<?xml version="1.0" encoding="UTF-8"?>

<project name="org.compiere.compilo.importer.jasperreports plug-in build file"
         default="help"
         basedir=".">
	<jpf-info manifest="${basedir}/plugin.xml"
	          propertyid="plugin.id"
	          propertyversion="plugin.version" />
	<property name="plugin.home"
	          value="${basedir}" />

	<path id="plugin.classpath">
		<fileset dir="${basedir}/../../../lib">
			<include name="*.jar" />
		</fileset>
	</path>

	<target name="help">
		<echo>
			<![CDATA[
${plugin.id} plug-in build file:
Use top-level project build file to build application.
]]>
		</echo>
	</target>

	<target name="build">
		<echo>Building ${plugin.id} plug-in to folder ${plugin.home}</echo>
		<mkdir dir="${plugin.home}/classes" />
		<javac destdir="${plugin.home}/classes"
		       srcdir="${basedir}/source"
		       classpathref="plugin.classpath"
		       excludes=""
		       debug="true"
		       optimize="false">
		</javac>
		<copy todir="${plugin.home}/classes">
			<fileset dir="${basedir}/source"
			         includes="**/*"
			         excludes="**/.*,**/*.java" />
		</copy>
		<copy todir="${plugin.home}" includeemptydirs="false">
			<fileset dir="${basedir}"
			         excludes="classes/,nbproject/,.*,*build*,source/" />
		</copy>
	</target>

	<target name="docs">
		<javadoc destdir="${plugin.home}/docs/api"
		         classpathref="plugin.classpath"
		         sourcepath="${basedir}/source"
		         packagenames="${plugin.id}.*">
		</javadoc>
	</target>
	
</project>
